<?xml version="1.0"?>
<config type="database" id="db_istc">
  <objectType>cheshire3.database.SimpleDatabase</objectType>
  <paths>
    <path type="defaultPath">dbs/istc</path>
    <path type="metadataPath">stores/metadata.bdb</path>
    <object type="recordStore" ref="recordStore"/>
    <object type="indexStore" ref="indexStore"/>
    <object type="functionLogger" ref="defaultLogger"/>
  </paths>

  <subConfigs>
  
  	<subConfig type="queryFactory" id="baseQueryFactory">
	   <objectType>cheshire3.queryFactory.SimpleQueryFactory</objectType>
    </subConfig>
    
  	<subConfig type="documentFactory" id="baseDocumentFactory">
	   <objectType>cheshire3.documentFactory.SimpleDocumentFactory</objectType>
	   <options>
	      <default type="data">/home/cheshire/cheshire3/cheshire3/dbs/istc/data</default>
	      <default type="">dir</default>
	      <default type="cache">0</default>
	   </options>
    </subConfig>    
  
  
    <subConfig type="recordStore" id="recordStore">
      <objectType>cheshire3.recordStore.BdbRecordStore</objectType>
      <paths>
       <path type="defaultPath">stores</path>
       	<object type="idNormalizer" ref = "StringIntNormalizer"/>
       	<object type="inTransformer" ref="XmlTransformer"/>
        <object type="outParser" ref="LxmlParser"/>
      </paths>
    </subConfig>

    <subConfig type="indexStore" id="indexStore">
      <objectType>cheshire3.indexStore.BdbIndexStore</objectType>
      <paths>
         <path type="defaultPath">indexes</path>
         <path type="tempPath">temp</path>
         <path type="recordStoreHash">recordStore</path>  
      </paths> 
    </subConfig>

    <subConfig type="protocolMap" id="CQLProtocolMap">
      <objectType>cheshire3.protocolMap.CQLProtocolMap</objectType>
      <paths>
        <path type="zeerexPath">zeerex_srw.xml</path>
      </paths>
    </subConfig>

	<subConfig type="authStore" id="istcAuthStore">
		<objectType>cheshire3.objectStore.BdbObjectStore</objectType>
		<paths>
			<path type="databasePath">istcAuthStore.bdb</path>
		</paths>
	</subConfig>
	
	<subConfig type="resultSetStore" id="resultSetStore">
		<objectType>cheshire3.sql.postgres.PostgresResultSetStore</objectType>
        <paths>
            <path type="databaseName">db_istc</path>
            <path type="tableName">istcResultSetStore</path>
            <path type="recordStoreHash">recordStore</path>
            <object type="idNormalizer" ref="StringIntNormalizer"/>
        </paths>
        <options>
            <default type="expires">3600</default>
        </options>
	</subConfig>

	<subConfig type="recordStore" id="editingStore">
		<objectType>cheshire3.recordStore.BdbRecordStore</objectType>
		<paths>
			<path type="defaultPath">stores</path>
			<path type="databasePath">editingStore.bdb</path>
			<path type="metadataPath">editingStoreMetadata.bdb</path>
			<object type="inTransformer" ref="XmlTransformer" />
			<object type="outParser" ref="LxmlParser" />
		</paths>
	</subConfig>

	<!-- transformers -->
	
	<subConfig type="transformer" id="fotest">
		<objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	      <paths>
	         <path type="xsltPath">xsl/test.xml</path>
	      </paths>
	</subConfig>
 
 	<!-- injest transformers -->
	 <subConfig type="transformer" id="dataTransformer">
	 	<objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	      <paths>
	         <path type="xsltPath">xsl/toMarcXml.xsl</path>
	      </paths>
	 </subConfig>
 
 	<subConfig type="transformer" id="indentingTxr">
	    <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/reindent.xsl</path>
	    </paths>
	</subConfig>
	
	<subConfig type="transformer" id="filterTxr">
	    <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/filterMarcFields.xsl</path>
	    </paths>
	</subConfig>
	
	<subConfig type="transformer" id="toTextTxr">
	    <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/toMARCTxt.xsl</path>
	    </paths>
	</subConfig>
	
	<subConfig type="transformer" id="toMarcTxr">
	    <objectType>cheshire3.transformer.MarcTransformer</objectType>
	</subConfig>
	
	<!-- display transformers -->
 
	<subConfig type="transformer" id="recordTxr-screen">
	    <objectType>ISTCextensions.ISTCTransfomer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/recordDisplay.xsl</path>
	    </paths>
	    <options>
	    	<setting type="parameter">format:screen</setting>
	    </options>
	</subConfig>
	
	<subConfig type="transformer" id="recordTxr-print">
	    <objectType>ISTCextensions.ISTCTransfomer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/recordDisplay.xsl</path>
	    </paths>
	    <options>
	    	<setting type="parameter">format:print</setting>
	    </options>
	</subConfig>
	
	<subConfig type="transformer" id="recordTxr-save">
	    <objectType>ISTCextensions.ISTCTransfomer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/recordDisplay.xsl</path>
	    </paths>
	    <options>
	    	<setting type="parameter">format:save</setting>
	    </options>
	</subConfig>
	
	<subConfig type="transformer" id="recordTxr-email">
	    <objectType>ISTCextensions.ISTCTransfomer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/recordDisplay.xsl</path>
	    </paths>
	    <options>
	    	<setting type="parameter">format:email</setting>
	    </options>
	</subConfig>
	
	
	<subConfig type="transformer" id="menuTxr">
	    <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/menuDisplay.xsl</path>
	    </paths>
	</subConfig>
	
	<subConfig type="transformer" id="formCreationTxr">
	    <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
	    <paths>
	        <path type="xsltPath">xsl/istcForm.xsl</path>
	    </paths>
	</subConfig>
	
 	<!-- pre-parsers -->
    <subConfig type="preParser" id="emptyEmphTagStripPreParser">
        <objectType>cheshire3.preParser.RegexpSmashPreParser</objectType>
        <options>
                <setting type="regexp">&lt;emph altrender="[a-z]"/&gt;</setting>
        </options>
    </subConfig>

    <subConfig type="preParser" id="AmpPreParser">
      <objectType>cheshire3.preParser.AmpPreParser</objectType>
    </subConfig>
  
    
    <!-- tokenizers -->
    <subConfig type="tokenizer" id="PublocTokenizer">
    	<objectType>cheshire3.tokenizer.RegexpSplitTokenizer</objectType>
    	<options>
    		<setting type="regexp"> or | Or |(?&lt;=[\w]),| and | And | \(</setting>
    	</options>
    </subConfig>
    
    
    <!-- normalizers -->
    <subConfig type="normalizer" id="PublisherNormalizer">
      <objectType>cheshire3.normalizer.RegexpNormalizer</objectType>
      <options>
        <setting type="regexp">\[|\]|\?|'|"|:|\)</setting>
      </options>
    </subConfig>
    
    <subConfig type="normalizer" id="FormatNormalizer">
    	<objectType>ISTCextensions.FormatNormalizer</objectType>
    </subConfig>
    
    <subConfig type="normalizer" id="LanguageNormalizer">
    	<objectType>ISTCextensions.LanguageNormalizer</objectType>
    </subConfig>
    
    <subConfig type="normalizer" id="BibRefNormalizer">
    	<objectType>ISTCextensions.BibRefNormalizer</objectType>
    </subConfig>
      
	<!-- indexes -->

     <subConfig type="index" id = "idx-kwd-all">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
		<xpath>controlfield[@tag='001']</xpath>
		<xpath>datafield</xpath>
      	<process>
		  <object type="workflow" ref="KeywordExtractorWorkflow"/>
	      <object type="normalizer" ref="CaseNormalizer"/>
	      <object type="normalizer" ref="PossessiveNormalizer"/>
		  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>
    
    
 	<subConfig type="index" id = "idx-kwd-author">
      <objectType>cheshire3.index.ProximityIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
		<xpath>datafield[@tag='100']/subfield[@code='a']</xpath>
        <process>
          <object type="workflow" ref="ProxExtractorWorkflow"/>
          <object type="normalizer" ref="CaseNormalizer"/>
          <object type="normalizer" ref="PossessiveNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>
    

 	<subConfig type="index" id = "idx-author">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
		<xpath>datafield[@tag='100']/subfield[@code='a']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
          <object type="normalizer" ref="CaseNormalizer"/>
          <object type="normalizer" ref="SpaceNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
 	  <options>
		<setting type="sortStore">1</setting>
      </options>
    </subConfig>


    <subConfig type="index" id = "idx-kwd-title">
      <objectType>cheshire3.index.ProximityIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
      	<xpath>datafield[@tag='245']/subfield[@code='a']</xpath>
		<xpath>datafield[@tag='130']/subfield[@code='a']</xpath>
        <process>
          <object type="workflow" ref="ProxExtractorWorkflow"/>
          <object type="normalizer" ref="CaseNormalizer"/>
          <object type="normalizer" ref="PossessiveNormalizer"/>
	      <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>
    
	
    <subConfig type="index" id = "idx-title">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
      	<xpath>datafield[@tag='245']/subfield[@code='a']</xpath>
		<xpath>datafield[@tag='130']/subfield[@code='a']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
          <object type="normalizer" ref="CaseNormalizer"/>
          <object type="normalizer" ref="SpaceNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
      <options>
		<setting type="sortStore">1</setting>
      </options>
    </subConfig>
    

    <subConfig type="index" id = "idx-kwd-publoc">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
        <xpath>datafield[@tag='260']/subfield[@code='a']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
          <object type="tokenizer" ref="PublocTokenizer"/>
          <object type="tokenMerger" ref="SimpleTokenMerger"/>
          <object type="normalizer" ref="PublisherNormalizer"/>       
          <object type="normalizer" ref="CaseNormalizer"/>
	  	  <object type="normalizer" ref="PossessiveNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
	  	  <object type="normalizer" ref="SpaceNormalizer"/>
        </process>
      </source>
    </subConfig>


    <subConfig type="index" id = "idx-publoc">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
        <xpath>datafield[@tag='260']/subfield[@code='a']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
          <object type="normalizer" ref="PublisherNormalizer"/>
          <object type="normalizer" ref="CaseNormalizer"/>
          <object type="normalizer" ref="SpaceNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>   
    

     <subConfig type="index" id = "idx-kwd-printer">
      <objectType>cheshire3.index.ProximityIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
	   <xpath>datafield[@tag='260']/subfield[@code='b']</xpath>
        <process>
          <object type="workflow" ref="ProxExtractorWorkflow"/>
          <object type="normalizer" ref="PublisherNormalizer"/>          
          <object type="normalizer" ref="CaseNormalizer"/>
	  	  <object type="normalizer" ref="PossessiveNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>
    

    <subConfig type="index" id = "idx-printer">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
	  <xpath>datafield[@tag='260']/subfield[@code='b']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
          <object type="normalizer" ref="PublisherNormalizer"/>          
          <object type="normalizer" ref="CaseNormalizer"/>
	  	  <object type="normalizer" ref="SpaceNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>


	<subConfig type="index" id="idx-BibRef">
		<objectType>cheshire3.index.SimpleIndex</objectType>
		<paths>
	        <object type="indexStore" ref="indexStore"/>
	        <object type="recordStore" ref="recordStore"/>		
		</paths>		
		<source>
		<xpath>datafield[@tag='510']</xpath>
			<process>
          		<object type="extractor" ref="SimpleExtractor"/>
          		<object type="normalizer" ref="CaseNormalizer"/>
          		<object type="normalizer" ref="SpaceNormalizer"/> 
          		<object type="normalizer" ref="DiacriticNormalizer"/>
          		<object type="normalizer" ref="BibRefNormalizer"/>
	  	  		
        	</process>
		</source>
	</subConfig>


    <subConfig type="index" id = "idx-ISTCnumber">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
	  <xpath>controlfield[@tag='001']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
	  	  <object type="normalizer" ref="SpaceNormalizer"/> 
        </process>
      </source>
      <options>
		<setting type="sortStore">1</setting>
      </options>
    </subConfig>
    
    
    <subConfig type="index" id="idx-format">
    	<objectType>cheshire3.index.SimpleIndex</objectType>
    	<paths>
	      <object type="indexStore" ref="indexStore"/>
	      <object type="recordStore" ref="recordStore"/>
	    </paths>
	    <source>
		  <xpath>datafield[@tag='300']</xpath>
	        <process>
	          <object type="extractor" ref="SimpleExtractor"/>
	          <object type="normalizer" ref="FormatNormalizer"/> 
		  	  <object type="normalizer" ref="SpaceNormalizer"/> 
		  	  <object type="normalizer" ref="CaseNormalizer"/>
	        </process>
      	</source>
      	<source mode="any|all|=|exact">
      		<process>
	          <object type="extractor" ref="SimpleExtractor"/>
		  	  <object type="normalizer" ref="SpaceNormalizer"/> 
		  	  <object type="normalizer" ref="CaseNormalizer"/>
	        </process>
      	</source>
    </subConfig>
    
            
    <subConfig type="index" id="idx-kwd-location">
    	<objectType>cheshire3.index.ProximityIndex</objectType>
    	<paths>
	        <object type="indexStore" ref="indexStore"/>
	        <object type="recordStore" ref="recordStore"/>    		
    	</paths>
    	<source>
    		<xpath>datafield[@tag='852']/subfield[@code='a']</xpath>
    		<xpath>datafield[@tag='951']</xpath>
    		<xpath>datafield[@tag='995']</xpath>
    		<xpath>datafield[@tag='957']</xpath>
    		<xpath>datafield[@tag='997']</xpath>
    		<xpath>datafield[@tag='954']</xpath>
    		<xpath>datafield[@tag='955']</xpath>
    		<xpath>datafield[@tag='996']</xpath>
    		<xpath>datafield[@tag='958']</xpath>
    		<xpath>datafield[@tag='953']</xpath>
    		<xpath>datafield[@tag='994']</xpath>
	    	<process>
	          <object type="workflow" ref="ProxExtractorWorkflow"/>
	          <object type="normalizer" ref="CaseNormalizer"/>
		  	  <object type="normalizer" ref="PossessiveNormalizer"/>
		  	  <object type="normalizer" ref="DiacriticNormalizer"/>
	        </process>
    	</source>
    </subConfig>   
    
    
    <subConfig type="index" id="idx-location">
    	<objectType>cheshire3.index.SimpleIndex</objectType>
    	<paths>
	        <object type="indexStore" ref="indexStore"/>
	        <object type="recordStore" ref="recordStore"/>    		
    	</paths>
    	<source>
    		<xpath>datafield[@tag='852']/subfield[@code='a']</xpath>
    		<xpath>datafield[@tag='951']</xpath>
    		<xpath>datafield[@tag='995']</xpath>
    		<xpath>datafield[@tag='957']</xpath>
    		<xpath>datafield[@tag='997']</xpath>
    		<xpath>datafield[@tag='954']</xpath>
    		<xpath>datafield[@tag='955']</xpath>
    		<xpath>datafield[@tag='996']</xpath>
    		<xpath>datafield[@tag='958']</xpath>
    		<xpath>datafield[@tag='953']</xpath>
    		<xpath>datafield[@tag='994']</xpath>
	    	<process>
	          <object type="extractor" ref="SimpleExtractor"/>
	          <object type="normalizer" ref="CaseNormalizer"/>
		  	  <object type="normalizer" ref="SpaceNormalizer"/>
		  	  <object type="normalizer" ref="DiacriticNormalizer"/>
	        </process>
    	</source>
    </subConfig>
    
    
    <subConfig type="index" id="idx-year">
	  <objectType>cheshire3.index.SimpleIndex</objectType>
	  <paths>
	    <object type="indexStore" ref="indexStore"/>
	    <object type="recordStore" ref="recordStore"/>
	  </paths>
	  <source>
	    <xpath ref="year008"/>
	   	<process>
	      <object type="extractor" ref="SimpleExtractor"/>	      
		  <object type="normalizer" ref="SpaceNormalizer"/>
		  <object type="normalizer" ref="CaseNormalizer"/>
	   	</process>
	  </source>
      <options>
		<setting type="sortStore">1</setting>
      </options>
    </subConfig>
    
    <subConfig type="transformer" id="year008Txr">
      <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
      <paths>
        <path type="xsltPath">xsl/year008.xsl</path>
      </paths>
    </subConfig>
    
    <subConfig type="xpathProcessor" id="year008">
      <objectType>cheshire3.xpathProcessor.TransformerXPathProcessor</objectType>
      <paths>
        <object type="transformer" ref="year008Txr"/>
      </paths>
    </subConfig>


    <subConfig type="index" id = "idx-pubdate">
      <objectType>cheshire3.index.SimpleIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
	  <xpath>datafield[@tag='260']/subfield[@code='c']</xpath>
        <process>
          <object type="extractor" ref="SimpleExtractor"/>
          <object type="normalizer" ref="PublisherNormalizer"/>          
	  	  <object type="normalizer" ref="CaseNormalizer"/>
	  	  <object type="normalizer" ref="SpaceNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>
    

    <subConfig type="index" id = "idx-kwd-pubdate">
      <objectType>cheshire3.index.ProximityIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
	  <xpath>datafield[@tag='260']/subfield[@code='c']</xpath>
        <process>
          <object type="workflow" ref="ProxExtractorWorkflow"/>
          <object type="normalizer" ref="PublisherNormalizer"/>          
	  	  <object type="normalizer" ref="CaseNormalizer"/>
	  	  <object type="normalizer" ref="SpaceNormalizer"/>
	  	  <object type="normalizer" ref="DiacriticNormalizer"/>
        </process>
      </source>
    </subConfig>

     
    <subConfig type="index" id="idx-language">
	  <objectType>cheshire3.index.SimpleIndex</objectType>
	  <paths>
	    <object type="indexStore" ref="indexStore"/>
	    <object type="recordStore" ref="recordStore"/>
	  </paths>
	  <source>
	    <xpath ref="language"/>
	   	<process>
	      <object type="extractor" ref="SimpleExtractor"/>
	      <object type="normalizer" ref="LanguageNormalizer"/>
	      <object type="normalizer" ref="SpaceNormalizer"/>
	      <object type="normalizer" ref="CaseNormalizer"/>
	   	</process>
	  </source>
	  <source mode="any|all|=|exact">
      		<process>
	          <object type="extractor" ref="SimpleExtractor"/>
		  	  <object type="normalizer" ref="SpaceNormalizer"/> 
		  	  <object type="normalizer" ref="CaseNormalizer"/>
	        </process>
      	</source>
      <options>
		<setting type="sortStore">1</setting>
      </options>
    </subConfig>
    
    <subConfig type="transformer" id="languageTxr">
      <objectType>cheshire3.transformer.LxmlXsltTransformer</objectType>
      <paths>
        <path type="xsltPath">xsl/langcode.xsl</path>
      </paths>
    </subConfig>

    
    <subConfig type="xpathProcessor" id="language">
      <objectType>cheshire3.xpathProcessor.TransformerXPathProcessor</objectType>
      <paths>
        <object type="transformer" ref="languageTxr"/>
      </paths>
    </subConfig>
    
    
    <subConfig type="index" id="idx-BLshelfmark">
	  <objectType>cheshire3.index.SimpleIndex</objectType>
	  <paths>
	    <object type="indexStore" ref="indexStore"/>
	    <object type="recordStore" ref="recordStore"/>
	  </paths>
	  <source>
	    <xpath>datafield[@tag='852']</xpath>
	   	<process>
	      <object type="extractor" ref="SimpleExtractor"/>
	      <object type="normalizer" ref="SpaceNormalizer"/>
	      <object type="normalizer" ref="CaseNormalizer"/>
	   	</process>
	  </source>
      <options>
		<setting type="sortStore">1</setting>
      </options>
    </subConfig>
    
       
    <subConfig type="index" id="idx-key-location_usa">
    	<objectType>cheshire3.index.SimpleIndex</objectType>
    	<paths>
	        <object type="indexStore" ref="indexStore"/>
	        <object type="recordStore" ref="recordStore"/>    		
    	</paths>
    	<source>
    		<xpath>datafield[@tag='952']/subfield[@code='a']</xpath>
    		<process>
	          <object type="extractor" ref="SimpleExtractor"/>
	          <object type="normalizer" ref="SpaceNormalizer"/>
	         <!--   <object type="normalizer" ref="CaseNormalizer"/>
		  	  
		  	  <object type="normalizer" ref="DiacriticNormalizer"/>-->
	        </process>
    	</source>
    </subConfig>
    
    
    <subConfig type="index" id="idx-pass-kwd-location_usa">
        <objectType>cheshire3.index.PassThroughIndex</objectType>
        <paths>        
          <path type="database">db_usa</path>
          <path type="remoteIndex">idx-kwd-location_usa</path>
          <path type="remoteKeyIndex">idx-key-usa</path>
          <object type="localIndex" ref="idx-key-location_usa" />
        </paths>
        <xpath>/record/code/text()</xpath>
    </subConfig>
    
    <subConfig type="index" id="idx-pass-location_usa">
        <objectType>cheshire3.index.PassThroughIndex</objectType>
        <paths>        
          <path type="database">db_usa</path>
          <path type="remoteIndex">idx-location_usa</path>
          <path type="remoteKeyIndex">idx-key-usa</path>
          <object type="localIndex" ref="idx-key-location_usa" />
        </paths>
        <xpath>/record/code/text()</xpath>
    </subConfig>
    
    <subConfig type="index" id="idx-countries">
    	<objectType>cheshire3.index.SimpleIndex</objectType>
    	<paths>
		    <object type="indexStore" ref="indexStore"/>
		    <object type="recordStore" ref="recordStore"/>    	
    	</paths>
    	<source>
    		<xpath>datafield/@tag</xpath>
		   	<process>
		      <object type="extractor" ref="SimpleExtractor"/>
		      <object type="normalizer" ref="SpaceNormalizer"/>
		   	</process>
    	</source>
    </subConfig>
   
    
    
<!-- ONLY needed for extracting 951 data - quicker to build without it while testing    
 <subConfig type="index" id="idx-951">
      <objectType>cheshire3.index.ProximityIndex</objectType>
      <paths>
        <object type="indexStore" ref="indexStore"/>
        <object type="recordStore" ref="recordStore"/>
      </paths> 
      <source>
        <xpath>datafield[@tag='951']</xpath>
        <process>
		  <object type="extractor" ref="SimpleExtractor"/>
		  <object type="tokenizer" ref="RegexpFindOffsetTokenizer"/>
		  <object type="tokenMerger" ref="OffsetProxTokenMerger"/>
          <object type="normalizer" ref="CaseNormalizer"/>
        </process>
      </source>
      <options>
		<setting type="nProxInts">3</setting>
	  </options>
    </subConfig> -->
       
    <!-- workflows - override default workflows -->
    <path type="includeConfigs">workflow.xml</path>
        
  </subConfigs>
</config>

